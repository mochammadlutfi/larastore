import{_ as K,L,o as g,B as k,C as t,a,G as e,a5 as n,a6 as E,b,D as c,a7 as z,c as N,e as U,H as I,M as Y,I as R,J as A}from"./id.js";import{E as F}from"./index30.js";import{E as G}from"./index21.js";import{E as H}from"./index31.js";import{a as O,E as J}from"./index33.js";import{E as q}from"./index8.js";import{E as Q}from"./index22.js";import{E as W}from"./index9.js";import{E as X,a as Z}from"./index32.js";import{E as $}from"./index36.js";import{E as ee,a as te}from"./index23.js";import{E as ae}from"./index37.js";import{E as oe}from"./index27.js";import{v as se}from"./directive.js";import"./index28.js";import"./scroll.js";import"./validator.js";import"./index7.js";import"./typescript.js";import"./event.js";import"./isEqual.js";import"./_Uint8Array.js";import"./debounce.js";import"./index34.js";import"./_initCloneObject.js";import"./index24.js";import"./index26.js";const le={props:{counter:{type:Object}},data(){return{data:[],isLoading:!0,status:this.route().params.status==null?"pending":this.route().params.status,params:{searchKey:"name",searchKeyword:"",sort:"id",sortDir:"DESC",limit:25,total:0,page:1,pageSize:0},showModal:!1,form:{status:null,periode:null}}},async created(){await this.fetchData()},methods:{async fetchData(s){var s=s??1;try{this.isLoading=!0;const i=await axios.get(this.route("admin.sale.return.data"),{params:{page:s,limit:this.params.limit,search:this.params.searchKeyword,searchKey:this.params.searchKey,status:this.status}});i.status==200&&(this.data=i.data.data,this.params.page=i.data.current_page,this.params.total=i.data.total,this.params.pageSize=i.data.per_page,this.params.from=i.data.from,this.params.to=i.data.to),this.isLoading=!1}catch(i){console.error(i)}},format_date(r){if(r)return moment(String(r)).format("DD MMM YYYY")},hapus(r){F.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.sale.order.delete",{id:r}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),G({type:"success",message:"Data Berhasil Dihapus!"})}})})},submit(){}}},ne={class:"content"},re={class:"content-heading d-flex justify-content-between align-items-center"},ie=a("span",null,"Retur Pesanan",-1),de={class:"space-x-1"},ce=a("i",{class:"fa fa-print me-1"},null,-1),me={class:"block block-bordered rounded mb-2"},pe={class:"nav nav-tabs nav-tabs-alt nav-fill"},ue={class:"nav-item"},_e=["href"],fe={class:"nav-item"},he=["href"],ge={class:"nav-item"},be=["href"],we={class:"block-content py-3"},ve=a("i",{class:"fa fa-search"},null,-1),ye={class:"block block-bordered rounded"},ke={class:"block-content p-0"},Ee=a("i",{class:"fa fa-angle-down ms-1"},null,-1),De=["href"],Ce=a("i",{class:"si fa-fw si-eye"},null,-1),xe=["href"],Ve=a("i",{class:"si fa-fw si-note"},null,-1),Me=a("i",{class:"si fa-fw si-trash"},null,-1),Se={key:0,class:"block-content py-2"},je={class:"mb-0"},Be={class:"d-flex"},Pe={class:"float-end"};function Te(r,s,i,Ke,o,u){const m=I,f=H,d=O,w=J,_=q,D=Q,v=W,p=X,h=Y,C=R,x=A,V=Z,M=$,y=ee,S=ae,j=te,B=oe,P=L("base-layout"),T=se;return g(),k(P,{title:"Retur"},{default:t(()=>[a("div",ne,[a("div",re,[ie,a("div",de,[e(m,{type:"primary",onClick:s[0]||(s[0]=E(l=>o.showModal=!0,["prevent"]))},{default:t(()=>[ce,n(" Export ")]),_:1})])]),a("div",me,[a("ul",pe,[a("li",ue,[a("a",{class:b(["nav-link",{active:o.status=="pending"}]),href:r.route("admin.sale.return.index",{status:"pending"})},[n(" Pending "),e(f,{type:"primary",round:""},{default:t(()=>[n(c(i.counter.pending),1)]),_:1})],10,_e)]),a("li",fe,[a("a",{class:b(["nav-link",{active:o.status=="confirm"}]),href:r.route("admin.sale.return.index",{status:"confirm"})},[n("Disetujui "),e(f,{type:"primary",round:""},{default:t(()=>[n(c(i.counter.confirm),1)]),_:1})],10,he)]),n("= "),a("li",ge,[a("a",{class:b(["nav-link",{active:o.status=="reject"}]),href:r.route("admin.sale.return.index",{status:"reject"})},[n("Ditolak "),e(f,{type:"primary",round:""},{default:t(()=>[n(c(i.counter.reject),1)]),_:1})],10,be)])]),a("div",we,[e(v,{justify:"space-between"},{default:t(()=>[e(_,{span:12},{default:t(()=>[e(w,{modelValue:o.params.limit,"onUpdate:modelValue":s[1]||(s[1]=l=>o.params.limit=l),placeholder:"Pilih",style:{width:"115px"},onChange:s[2]||(s[2]=l=>u.fetchData(1))},{default:t(()=>[e(d,{label:"25",value:"25"}),e(d,{label:"50",value:"50"}),e(d,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(_,{span:8},{default:t(()=>[e(D,{modelValue:o.params.searchKeyword,"onUpdate:modelValue":s[4]||(s[4]=l=>o.params.searchKeyword=l),placeholder:"Masukan kata kunci",class:"input-with-select",clearable:""},{append:t(()=>[e(m,{onClick:s[3]||(s[3]=l=>u.fetchData(1))},{default:t(()=>[ve]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),a("div",ye,[a("div",ke,[z((g(),k(V,{data:o.data,class:"rounded table-click",style:{width:"100%"},onSortChange:r.sortChange},{default:t(()=>[e(p,{type:"index",width:"100"}),e(p,{prop:"nomor",label:"Nomor",sortable:""}),e(p,{prop:"order.nomor",label:"No Pesanan",sortable:""}),e(p,{prop:"customer.name",label:"Pelanggan",sortable:""}),e(p,{label:"Aksi",align:"center",width:"180"},{default:t(l=>[e(x,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(C,null,{default:t(()=>[e(h,null,{default:t(()=>[a("a",{href:r.route("admin.sale.return.show",{id:l.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[n(" Detail "),Ce],8,De)]),_:2},1024),e(h,null,{default:t(()=>[a("a",{href:r.route("admin.sale.return.edit",{id:l.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[n(" Ubah "),Ve],8,xe)]),_:2},1024),e(h,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:E(Le=>u.hapus(l.row.id),["prevent"])},{default:t(()=>[n(" Hapus "),Me]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(m,{type:"primary"},{default:t(()=>[n(" Aksi "),Ee]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])),[[T,o.isLoading]])]),o.isLoading==!1?(g(),N("div",Se,[e(v,{justify:"space-between"},{default:t(()=>[e(_,{lg:12},{default:t(()=>[a("p",je,"Menampilkan "+c(o.params.from)+" sampai "+c(o.params.to)+" dari "+c(o.params.total),1)]),_:1}),e(_,{lg:12,class:"text-end"},{default:t(()=>[e(M,{class:"float-end",background:"",layout:"prev, pager, next","page-size":o.params.pageSize,total:o.params.total,"current-page":o.params.page,onCurrentChange:u.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])):U("",!0)])]),e(B,{modelValue:o.showModal,"onUpdate:modelValue":s[8]||(s[8]=l=>o.showModal=l),title:"Export",width:"500","before-close":r.handleClose},{default:t(()=>[e(j,{"label-width":"30%",method:"GET",action:r.route("admin.sale.return.report"),target:"_blank","label-position":"top"},{default:t(()=>[e(y,{class:"mb-4",label:"Status"},{default:t(()=>[e(w,{modelValue:o.form.status,"onUpdate:modelValue":s[5]||(s[5]=l=>o.form.status=l),name:"status",class:"w-100",placeholder:"Pilih"},{default:t(()=>[e(d,{label:"Semua",value:""}),e(d,{label:"Pending",value:"pending"}),e(d,{label:"Disetujui",value:"confirm"}),e(d,{label:"Ditolak",value:"reject"})]),_:1},8,["modelValue"])]),_:1}),e(y,{class:"mb-4",label:"Periode"},{default:t(()=>[e(S,{name:"date",modelValue:o.form.periode,"onUpdate:modelValue":s[6]||(s[6]=l=>o.form.periode=l),type:"daterange","range-separator":"Sampai","start-placeholder":"Tanggal Mulai","end-placeholder":"Tanggal Selesai"},null,8,["modelValue"])]),_:1}),a("div",Be,[a("div",Pe,[e(m,{onClick:s[7]||(s[7]=l=>o.showModal=!1)},{default:t(()=>[n("Batal")]),_:1}),e(m,{type:"primary","native-type":"submit"},{default:t(()=>[n(" Download ")]),_:1})])])]),_:1},8,["action"])]),_:1},8,["modelValue","before-close"])]),_:1})}const dt=K(le,[["render",Te]]);export{dt as default};

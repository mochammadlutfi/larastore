import{_ as K,L,o as d,B as v,C as t,a as n,a5 as i,G as e,a7 as T,D as c,c as h,F as E,e as g,a6 as H,H as j,M as z,I as N,J as Y}from"./id.js";import{E as I}from"./index30.js";import{E as P}from"./index21.js";import{a as U,E as J}from"./index33.js";import{E as A}from"./index8.js";import{E as F}from"./index22.js";import{E as G}from"./index9.js";import{E as O,a as R}from"./index32.js";import{E as q}from"./index36.js";import{v as Q}from"./directive.js";import"./index28.js";import"./scroll.js";import"./validator.js";import"./index7.js";import"./typescript.js";import"./index31.js";import"./event.js";import"./isEqual.js";import"./_Uint8Array.js";import"./debounce.js";import"./index34.js";import"./_initCloneObject.js";import"./index24.js";const W={data(){return{data:[],isLoading:!0,searchKey:"name",searchKeyword:"",limit:25,total:0,page:1,pageSize:0}},async created(){await this.fetchData()},methods:{async fetchData(s){var s=s??1;try{this.isLoading=!0;const p=await axios.get("/admin/produk/data",{params:{page:s,limit:this.limit,search:this.searchKeyword,searchKey:this.searchKey}});p.status==200&&(this.data=p.data.data,this.page=p.data.current_page,this.total=p.data.total,this.pageSize=p.data.per_page),this.isLoading=!1}catch(p){console.error(p)}},format_date(o){if(o)return moment(String(o)).format("DD MMM YYYY")},hapus(o){I.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.inventory.product.delete",{id:o}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),P({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},X={class:"content"},Z={class:"content-heading d-flex justify-content-between align-items-center"},$=n("span",null,"Produk",-1),ee={class:"space-x-1"},te=["href"],ae=n("i",{class:"fa fa-plus me-1"},null,-1),oe={class:"block block-rounded"},ne={class:"block-content py-3"},se=n("i",{class:"fa fa-search"},null,-1),le={class:"block-content p-0"},re=n("i",{class:"fa fa-angle-down ms-1"},null,-1),ie=["href"],ce=n("i",{class:"si fa-fw si-note"},null,-1),pe=n("i",{class:"si fa-fw si-trash"},null,-1),de={key:0,class:"block-content py-2"},ue={class:"mb-0"};function _e(o,s,p,me,l,u){const f=U,C=J,_=A,w=j,D=F,b=G,r=O,y=R,k=z,B=N,S=Y,x=q,V=L("base-layout"),M=Q;return d(),v(V,null,{default:t(()=>[n("div",X,[n("div",Z,[$,n("div",ee,[n("a",{href:o.route("admin.inventory.product.create"),class:"ep-button ep-button--primary"},[ae,i(" Tambah ")],8,te)])]),n("div",oe,[n("div",ne,[e(b,{justify:"space-between"},{default:t(()=>[e(_,{span:12},{default:t(()=>[e(C,{modelValue:l.limit,"onUpdate:modelValue":s[0]||(s[0]=a=>l.limit=a),placeholder:"Pilih",style:{width:"115px"},onChange:s[1]||(s[1]=a=>u.fetchData(1))},{default:t(()=>[e(f,{label:"25",value:"25"}),e(f,{label:"50",value:"50"}),e(f,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(_,{span:8},{default:t(()=>[e(D,{modelValue:l.searchKeyword,"onUpdate:modelValue":s[3]||(s[3]=a=>l.searchKeyword=a),placeholder:"Masukan kata kunci",class:"input-with-select",clearable:""},{append:t(()=>[e(w,{onClick:s[2]||(s[2]=a=>u.fetchData(1))},{default:t(()=>[se]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),n("div",le,[T((d(),v(y,{data:l.data,class:"w-100",onSortChange:o.sortChange},{default:t(()=>[e(r,{type:"expand"},{default:t(a=>[e(y,{data:a.row.variant},{default:t(()=>[e(r,{label:"Varian",prop:"name"}),e(r,{label:"SKU",prop:"sku"}),e(r,{label:"Harga Jual",prop:"sell_price"},{default:t(m=>[i(c(o.currency(m.row.sell_price)),1)]),_:1}),e(r,{label:"Harga Beli",prop:"purchase_price"},{default:t(m=>[i(c(o.currency(m.row.purchase_price)),1)]),_:1}),e(r,{label:"Stock",prop:"stock"})]),_:2},1032,["data"])]),_:1}),e(r,{prop:"name",label:"Nama",sortable:""}),e(r,{prop:"category.name",label:"Kategori",sortable:""}),e(r,{prop:"sell_price",label:"Harga Jual",sortable:""},{default:t(a=>[i(c(o.currency(a.row.sell_price))+" ",1),a.row.variant.length>1?(d(),h(E,{key:0},[i(" - "+c(o.currency(a.row.sell_max_price)),1)],64)):g("",!0)]),_:1}),e(r,{prop:"purchase_price",label:"Harga Beli",sortable:""},{default:t(a=>[i(c(o.currency(a.row.purchase_price))+" ",1),a.row.variant.length>1?(d(),h(E,{key:0},[i(" - "+c(o.currency(a.row.purchase_max_price)),1)],64)):g("",!0)]),_:1}),e(r,{label:"Aksi",align:"center",width:"180"},{default:t(a=>[e(S,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(B,null,{default:t(()=>[e(k,null,{default:t(()=>[n("a",{href:o.route("admin.inventory.product.edit",{id:a.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[i(" Ubah "),ce],8,ie)]),_:2},1024),e(k,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:H(m=>u.hapus(a.row.id),["prevent"])},{default:t(()=>[i(" Hapus "),pe]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(w,{type:"primary"},{default:t(()=>[i(" Aksi "),re]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])),[[M,l.isLoading]])]),l.isLoading==!1?(d(),h("div",de,[e(b,{justify:"space-between"},{default:t(()=>[e(_,{lg:12},{default:t(()=>[n("p",ue,"Menampilkan "+c(o.from)+" sampai "+c(o.to)+" dari "+c(l.total),1)]),_:1}),e(_,{lg:12,class:"text-end"},{default:t(()=>[e(x,{class:"float-end",background:"",layout:"prev, pager, next","page-size":l.pageSize,total:l.total,"current-page":l.page,onCurrentChange:u.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])):g("",!0)])])]),_:1})}const Ye=K(W,[["render",_e]]);export{Ye as default};

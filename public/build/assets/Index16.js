import{_ as B,L as M,o as u,B as b,C as t,a,a5 as d,G as e,a7 as S,a6 as V,c as K,D as _,e as L,H as T,M as N,I as j,J as z}from"./id.js";import{E as I}from"./index30.js";import{E as P}from"./index21.js";import{a as Y,E as A}from"./index33.js";import{E as H}from"./index8.js";import{E as U}from"./index22.js";import{E as G}from"./index9.js";import{E as J,a as O}from"./index32.js";import{E as R}from"./index36.js";import{v as q}from"./directive.js";import"./index28.js";import"./scroll.js";import"./validator.js";import"./index7.js";import"./typescript.js";import"./index31.js";import"./event.js";import"./isEqual.js";import"./_Uint8Array.js";import"./debounce.js";import"./index34.js";import"./_initCloneObject.js";import"./index24.js";const F={data(){return{data:[],isLoading:!0,searchKey:"name",searchKeyword:"",limit:25,total:0,page:1,pageSize:0}},async created(){await this.fetchData()},methods:{async fetchData(o){var o=o??1;try{this.isLoading=!0;const l=await axios.get("/admin/supplier/data",{params:{page:o,limit:this.limit,search:this.searchKeyword,searchKey:this.searchKey}});l.status==200&&(this.data=l.data.data,this.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page),this.isLoading=!1}catch(l){console.error(l)}},format_date(s){if(s)return moment(String(s)).format("DD MMM YYYY")},hapus(s){I.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.purchase.supplier.delete",{id:s}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),P({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},Q={class:"content"},W={class:"content-heading d-flex justify-content-between align-items-center"},X=a("span",null,"Supplier",-1),Z={class:"space-x-1"},$=["href"],ee=a("i",{class:"fa fa-plus me-1"},null,-1),te={class:"block block-rounded"},ae={class:"block-content py-3"},oe=a("i",{class:"fa fa-search"},null,-1),se={class:"block-content p-0"},ne=a("i",{class:"fa fa-angle-down ms-1"},null,-1),le=["href"],ie=a("i",{class:"si fa-fw si-note"},null,-1),re=a("i",{class:"si fa-fw si-trash"},null,-1),ce={key:0,class:"block-content py-2"},pe={class:"mb-0"};function de(s,o,l,me,n,c){const m=Y,w=A,p=H,h=T,y=U,f=G,r=J,g=N,k=j,E=z,v=O,C=R,x=M("base-layout"),D=q;return u(),b(x,null,{default:t(()=>[a("div",Q,[a("div",W,[X,a("div",Z,[a("a",{href:s.route("admin.purchase.supplier.create"),class:"ep-button ep-button--primary"},[ee,d(" Tambah ")],8,$)])]),a("div",te,[a("div",ae,[e(f,{justify:"space-between"},{default:t(()=>[e(p,{span:12},{default:t(()=>[e(w,{modelValue:n.limit,"onUpdate:modelValue":o[0]||(o[0]=i=>n.limit=i),placeholder:"Pilih",style:{width:"115px"},onChange:o[1]||(o[1]=i=>c.fetchData(1))},{default:t(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(p,{span:8},{default:t(()=>[e(y,{modelValue:n.searchKeyword,"onUpdate:modelValue":o[3]||(o[3]=i=>n.searchKeyword=i),placeholder:"Masukan kata kunci",class:"input-with-select",clearable:""},{append:t(()=>[e(h,{onClick:o[2]||(o[2]=i=>c.fetchData(1))},{default:t(()=>[oe]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),a("div",se,[S((u(),b(v,{data:n.data,class:"table-click",style:{width:"100%"},onSortChange:s.sortChange},{default:t(()=>[e(r,{type:"index",index:s.indexMethod,width:"100"},null,8,["index"]),e(r,{prop:"name",label:"Nama",sortable:""}),e(r,{prop:"pic",label:"PIC",sortable:""}),e(r,{prop:"phone",label:"No HP",sortable:""}),e(r,{prop:"email",label:"Email",sortable:""}),e(r,{prop:"address",label:"Alamat",sortable:""}),e(r,{label:"Aksi",align:"center",width:"180"},{default:t(i=>[e(E,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(k,null,{default:t(()=>[e(g,null,{default:t(()=>[a("a",{href:s.route("admin.purchase.supplier.edit",{id:i.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[d(" Ubah "),ie],8,le)]),_:2},1024),e(g,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:V(ue=>c.hapus(i.row.id),["prevent"])},{default:t(()=>[d(" Hapus "),re]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(h,{type:"primary"},{default:t(()=>[d(" Aksi "),ne]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])),[[D,n.isLoading]])]),n.isLoading==!1?(u(),K("div",ce,[e(f,{justify:"space-between"},{default:t(()=>[e(p,{lg:12},{default:t(()=>[a("p",pe,"Menampilkan "+_(s.from)+" sampai "+_(s.to)+" dari "+_(n.total),1)]),_:1}),e(p,{lg:12,class:"text-end"},{default:t(()=>[e(C,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:c.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])):L("",!0)])])]),_:1})}const Ie=B(F,[["render",de]]);export{Ie as default};
